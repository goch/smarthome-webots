#VRML_SIM R2022a utf8
# licence: MIT
# license url: https://choosealicense.com/licenses/mit/
# Smart Home controllable shutters
# template language: javascript

PROTO SH_Shutter [
    field SFString      name "shutter"
    field SFVec3f       translation 0 0 0
    field SFRotation    rotation    0 1 0 0
    unconnectedField SFFloat position 0
    unconnectedField SFBool stop TRUE
    unconnectedField SFBool up TRUE
    unconnectedField SFBool down TRUE
    
  ]
{
    Robot {
    name IS name
    translation IS translation
    rotation IS rotation
  children [
    Emitter {
      channel 1
    }
    Solid {
      translation 2.35512 -0.911752 0
      rotation 0 0 1 -0.523595307179586
      children [
        Solid {
          translation -0.09 0 2.24
          scale 1.4 1.4 1.4
          children [
            Shape {
              appearance PBRAppearance {
                baseColor 0.666667 0.333333 0
              }
              geometry Box {
                size 0.1 0.1 0.1
              }
            }
          ]
          name "Buttton"
        }
        Solid {
          translation 0 0 0.35
          children [
            Shape {
              appearance PBRAppearance {
                roughness 1
                metalness 0
                normalMap ImageTexture {
                  url [
                    "https://raw.githubusercontent.com/cyberbotics/webots/R2022a/projects/appearances/protos/textures/roughcast/roughcast_normal.png"
                  ]
                }
              }
              geometry Box {
                size 0.2 0.8 0.7
              }
            }
          ]
          name "bottom wall"
          boundingObject Box {
            size 0.2 0.8 0.7
          }
        }
        Solid {
          translation 0 0 2.75
          children [
            Shape {
              appearance PBRAppearance {
                roughness 1
                metalness 0
                normalMap ImageTexture {
                  url [
                    "https://raw.githubusercontent.com/cyberbotics/webots/R2022a/projects/appearances/protos/textures/roughcast/roughcast_normal.png"
                  ]
                }
              }
              geometry Box {
                size 0.2 0.8 1.3
              }
            }
          ]
          name "top wall"
          boundingObject Box {
            size 0.2 0.8 0.30000000000000004
          }
        }
        Solid {
          translation 0 0 1.4
          children [
            SliderJoint {
              jointParameters JointParameters {
                position 1.3
              }
              device [
                PositionSensor {
                }
                Brake {
                }
                LinearMotor {
                  maxVelocity 0.1
                  maxPosition 1.3
                }
              ]
              endPoint Solid {
                translation 0.05 0 1.3
                children [
                  Shape {
                    appearance PBRAppearance {
                      roughness 1
                    }
                    geometry Box {
                      size 0.05 0.79 1.3
                    }
                    isPickable FALSE
                  }
                ]
              }
            }
            Shape {
              appearance PBRAppearance {
                baseColor 0.8 0.8 0.8
                transparency 0.85
                metalness 0
              }
              geometry IndexedFaceSet {
                coord Coordinate {
                  point [
                    -0.025 0.38 0.65
                    0.025 0.38 0.65
                    0.025 0.38 -0.65
                    -0.025 0.38 -0.65
                    -0.025 -0.38 -0.65
                    0.025 -0.38 -0.65
                    0.025 -0.38 0.65
                    -0.025 -0.38 0.65
                    -0.025 -0.38 0.65
                    0.025 -0.38 0.65
                    0.025 0.38 0.65
                    -0.025 0.38 0.65
                    0.025 -0.38 -0.65
                    -0.025 -0.38 -0.65
                    -0.025 0.38 -0.65
                    0.025 0.38 -0.65
                    -0.025 -0.38 -0.65
                    -0.025 -0.38 0.65
                    -0.025 0.38 0.65
                    -0.025 0.38 -0.65
                    0.025 -0.38 0.65
                    0.025 -0.38 -0.65
                    0.025 0.38 -0.65
                    0.025 0.38 0.65
                  ]
                }
                texCoord TextureCoordinate {
                  point [
                    0.038461538461538464 1
                    0 1
                    0 0
                    0.038461538461538464 0
                    0 0
                    0.038461538461538464 0
                    0.038461538461538464 1
                    0 1
                    0 0.038461538461538464
                    0 0
                    0.5846153846153846 0
                    0.5846153846153846 0.038461538461538464
                    0 0.038461538461538464
                    0 0
                    0.5846153846153846 0
                    0.5846153846153846 0.038461538461538464
                    0.5846153846153846 0
                    0.5846153846153846 1
                    0 1
                    0 0
                    0 1
                    0 0
                    0.5846153846153846 0
                    0.5846153846153846 1
                  ]
                }
                coordIndex [
                  0, 1, 2, 3, -1, 4, 5, 6, 7, -1, 8, 9, 10, 11, -1, 12, 13, 14, 15, -1, 16, 17, 18, 19, -1, 20, 21, 22, 23, -1
                ]
                creaseAngle 1.5
              }
            }
          ]
          name "glass"
          model "box"
          boundingObject Box {
            size 0.05 0.76 1.3
          }
        }
        Solid {
          translation 0 0 0.725
          children [
            Shape {
              appearance PBRAppearance {
                baseColor 0.8039 0.6745 0.5764
                baseColorMap ImageTexture {
                  url [
                    "https://raw.githubusercontent.com/cyberbotics/webots/R2022a/projects/appearances/protos/textures/varnished_pine/varnished_pine_base_color.jpg"
                  ]
                  filtering 5
                }
                roughnessMap ImageTexture {
                  url [
                    "https://raw.githubusercontent.com/cyberbotics/webots/R2022a/projects/appearances/protos/textures/varnished_pine/varnished_pine_roughness.jpg"
                  ]
                  filtering 5
                }
                metalness 0
                normalMap ImageTexture {
                  url [
                    "https://raw.githubusercontent.com/cyberbotics/webots/R2022a/projects/appearances/protos/textures/varnished_pine/varnished_pine_normal.jpg"
                  ]
                  filtering 5
                }
                normalMapFactor 0.5
                occlusionMap ImageTexture {
                  url [
                    "https://raw.githubusercontent.com/cyberbotics/webots/R2022a/projects/appearances/protos/textures/varnished_pine/varnished_pine_occlusion.jpg"
                  ]
                  filtering 5
                }
              }
              geometry IndexedFaceSet {
                coord Coordinate {
                  point [
                    -0.25 0.4 0.025
                    0.25 0.4 0.025
                    0.25 0.4 -0.025
                    -0.25 0.4 -0.025
                    -0.25 -0.4 -0.025
                    0.25 -0.4 -0.025
                    0.25 -0.4 0.025
                    -0.25 -0.4 0.025
                    -0.25 -0.4 0.025
                    0.25 -0.4 0.025
                    0.25 0.4 0.025
                    -0.25 0.4 0.025
                    0.25 -0.4 -0.025
                    -0.25 -0.4 -0.025
                    -0.25 0.4 -0.025
                    0.25 0.4 -0.025
                    -0.25 -0.4 -0.025
                    -0.25 -0.4 0.025
                    -0.25 0.4 0.025
                    -0.25 0.4 -0.025
                    0.25 -0.4 0.025
                    0.25 -0.4 -0.025
                    0.25 0.4 -0.025
                    0.25 0.4 0.025
                  ]
                }
                texCoord TextureCoordinate {
                  point [
                    0.625 0.0625
                    0 0.0625
                    0 0
                    0.625 0
                    0 0
                    0.625 0
                    0.625 0.0625
                    0 0.0625
                    0 0.625
                    0 0
                    1 0
                    1 0.625
                    0 0.625
                    0 0
                    1 0
                    1 0.625
                    1 0
                    1 0.0625
                    0 0.0625
                    0 0
                    0 0.0625
                    0 0
                    1 0
                    1 0.0625
                  ]
                }
                coordIndex [
                  0, 1, 2, 3, -1, 4, 5, 6, 7, -1, 8, 9, 10, 11, -1, 12, 13, 14, 15, -1, 16, 17, 18, 19, -1, 20, 21, 22, 23, -1
                ]
                creaseAngle 1.5
              }
            }
          ]
          name "sill"
          model "box"
          boundingObject Box {
            size 0.5 0.8 0.05
          }
        }
        Solid {
          translation 0 0 0.775
          children [
            Shape {
              appearance PBRAppearance {
                baseColor 0.8039 0.6745 0.5764
                baseColorMap ImageTexture {
                  url [
                    "https://raw.githubusercontent.com/cyberbotics/webots/R2022a/projects/appearances/protos/textures/varnished_pine/varnished_pine_base_color.jpg"
                  ]
                  filtering 5
                }
                roughnessMap ImageTexture {
                  url [
                    "https://raw.githubusercontent.com/cyberbotics/webots/R2022a/projects/appearances/protos/textures/varnished_pine/varnished_pine_roughness.jpg"
                  ]
                  filtering 5
                }
                metalness 0
                normalMap ImageTexture {
                  url [
                    "https://raw.githubusercontent.com/cyberbotics/webots/R2022a/projects/appearances/protos/textures/varnished_pine/varnished_pine_normal.jpg"
                  ]
                  filtering 5
                }
                normalMapFactor 0.5
                occlusionMap ImageTexture {
                  url [
                    "https://raw.githubusercontent.com/cyberbotics/webots/R2022a/projects/appearances/protos/textures/varnished_pine/varnished_pine_occlusion.jpg"
                  ]
                  filtering 5
                }
              }
              geometry IndexedFaceSet {
                coord Coordinate {
                  point [
                    -0.15 0.38 0.025
                    0.15 0.38 0.025
                    0.15 0.38 -0.025
                    -0.15 0.38 -0.025
                    -0.15 -0.38 -0.025
                    0.15 -0.38 -0.025
                    0.15 -0.38 0.025
                    -0.15 -0.38 0.025
                    -0.15 -0.38 0.025
                    0.15 -0.38 0.025
                    0.15 0.38 0.025
                    -0.15 0.38 0.025
                    0.15 -0.38 -0.025
                    -0.15 -0.38 -0.025
                    -0.15 0.38 -0.025
                    0.15 0.38 -0.025
                    -0.15 -0.38 -0.025
                    -0.15 -0.38 0.025
                    -0.15 0.38 0.025
                    -0.15 0.38 -0.025
                    0.15 -0.38 0.025
                    0.15 -0.38 -0.025
                    0.15 0.38 -0.025
                    0.15 0.38 0.025
                  ]
                }
                texCoord TextureCoordinate {
                  point [
                    0.39473684210526316 0.06578947368421052
                    0 0.06578947368421052
                    0 0
                    0.39473684210526316 0
                    0 0
                    0.39473684210526316 0
                    0.39473684210526316 0.06578947368421052
                    0 0.06578947368421052
                    0 0.39473684210526316
                    0 0
                    1 0
                    1 0.39473684210526316
                    0 0.39473684210526316
                    0 0
                    1 0
                    1 0.39473684210526316
                    1 0
                    1 0.06578947368421052
                    0 0.06578947368421052
                    0 0
                    0 0.06578947368421052
                    0 0
                    1 0
                    1 0.06578947368421052
                  ]
                }
                coordIndex [
                  0, 1, 2, 3, -1, 4, 5, 6, 7, -1, 8, 9, 10, 11, -1, 12, 13, 14, 15, -1, 16, 17, 18, 19, -1, 20, 21, 22, 23, -1
                ]
                creaseAngle 1.5
              }
            }
          ]
          name "bottom frame"
          model "box"
          boundingObject Box {
            size 0.3 0.76 0.05
          }
        }
        Solid {
          translation 0 0 2.0749999999999997
          children [
            Shape {
              appearance PBRAppearance {
                baseColor 0.8039 0.6745 0.5764
                baseColorMap ImageTexture {
                  url [
                    "https://raw.githubusercontent.com/cyberbotics/webots/R2022a/projects/appearances/protos/textures/varnished_pine/varnished_pine_base_color.jpg"
                  ]
                  filtering 5
                }
                roughnessMap ImageTexture {
                  url [
                    "https://raw.githubusercontent.com/cyberbotics/webots/R2022a/projects/appearances/protos/textures/varnished_pine/varnished_pine_roughness.jpg"
                  ]
                  filtering 5
                }
                metalness 0
                normalMap ImageTexture {
                  url [
                    "https://raw.githubusercontent.com/cyberbotics/webots/R2022a/projects/appearances/protos/textures/varnished_pine/varnished_pine_normal.jpg"
                  ]
                  filtering 5
                }
                normalMapFactor 0.5
                occlusionMap ImageTexture {
                  url [
                    "https://raw.githubusercontent.com/cyberbotics/webots/R2022a/projects/appearances/protos/textures/varnished_pine/varnished_pine_occlusion.jpg"
                  ]
                  filtering 5
                }
              }
              geometry IndexedFaceSet {
                coord Coordinate {
                  point [
                    -0.15 0.38 0.025
                    0.15 0.38 0.025
                    0.15 0.38 -0.025
                    -0.15 0.38 -0.025
                    -0.15 -0.38 -0.025
                    0.15 -0.38 -0.025
                    0.15 -0.38 0.025
                    -0.15 -0.38 0.025
                    -0.15 -0.38 0.025
                    0.15 -0.38 0.025
                    0.15 0.38 0.025
                    -0.15 0.38 0.025
                    0.15 -0.38 -0.025
                    -0.15 -0.38 -0.025
                    -0.15 0.38 -0.025
                    0.15 0.38 -0.025
                    -0.15 -0.38 -0.025
                    -0.15 -0.38 0.025
                    -0.15 0.38 0.025
                    -0.15 0.38 -0.025
                    0.15 -0.38 0.025
                    0.15 -0.38 -0.025
                    0.15 0.38 -0.025
                    0.15 0.38 0.025
                  ]
                }
                texCoord TextureCoordinate {
                  point [
                    0.39473684210526316 0.06578947368421052
                    0 0.06578947368421052
                    0 0
                    0.39473684210526316 0
                    0 0
                    0.39473684210526316 0
                    0.39473684210526316 0.06578947368421052
                    0 0.06578947368421052
                    0 0.39473684210526316
                    0 0
                    1 0
                    1 0.39473684210526316
                    0 0.39473684210526316
                    0 0
                    1 0
                    1 0.39473684210526316
                    1 0
                    1 0.06578947368421052
                    0 0.06578947368421052
                    0 0
                    0 0.06578947368421052
                    0 0
                    1 0
                    1 0.06578947368421052
                  ]
                }
                coordIndex [
                  0, 1, 2, 3, -1, 4, 5, 6, 7, -1, 8, 9, 10, 11, -1, 12, 13, 14, 15, -1, 16, 17, 18, 19, -1, 20, 21, 22, 23, -1
                ]
                creaseAngle 1.5
              }
            }
          ]
          name "top frame"
          model "box"
          boundingObject Box {
            size 0.3 0.76 0.05
          }
        }
        Solid {
          translation 0 0.39 1.4
          children [
            Shape {
              appearance PBRAppearance {
                baseColor 0.8039 0.6745 0.5764
                baseColorMap ImageTexture {
                  url [
                    "https://raw.githubusercontent.com/cyberbotics/webots/R2022a/projects/appearances/protos/textures/varnished_pine/varnished_pine_base_color.jpg"
                  ]
                  filtering 5
                }
                roughnessMap ImageTexture {
                  url [
                    "https://raw.githubusercontent.com/cyberbotics/webots/R2022a/projects/appearances/protos/textures/varnished_pine/varnished_pine_roughness.jpg"
                  ]
                  filtering 5
                }
                metalness 0
                normalMap ImageTexture {
                  url [
                    "https://raw.githubusercontent.com/cyberbotics/webots/R2022a/projects/appearances/protos/textures/varnished_pine/varnished_pine_normal.jpg"
                  ]
                  filtering 5
                }
                normalMapFactor 0.5
                occlusionMap ImageTexture {
                  url [
                    "https://raw.githubusercontent.com/cyberbotics/webots/R2022a/projects/appearances/protos/textures/varnished_pine/varnished_pine_occlusion.jpg"
                  ]
                  filtering 5
                }
              }
              geometry IndexedFaceSet {
                coord Coordinate {
                  point [
                    -0.15 0.01 0.7
                    0.15 0.01 0.7
                    0.15 0.01 -0.7
                    -0.15 0.01 -0.7
                    -0.15 -0.01 -0.7
                    0.15 -0.01 -0.7
                    0.15 -0.01 0.7
                    -0.15 -0.01 0.7
                    -0.15 -0.01 0.7
                    0.15 -0.01 0.7
                    0.15 0.01 0.7
                    -0.15 0.01 0.7
                    0.15 -0.01 -0.7
                    -0.15 -0.01 -0.7
                    -0.15 0.01 -0.7
                    0.15 0.01 -0.7
                    -0.15 -0.01 -0.7
                    -0.15 -0.01 0.7
                    -0.15 0.01 0.7
                    -0.15 0.01 -0.7
                    0.15 -0.01 0.7
                    0.15 -0.01 -0.7
                    0.15 0.01 -0.7
                    0.15 0.01 0.7
                  ]
                }
                texCoord TextureCoordinate {
                  point [
                    0.2142857142857143 1
                    0 1
                    0 0
                    0.2142857142857143 0
                    0 0
                    0.2142857142857143 0
                    0.2142857142857143 1
                    0 1
                    0 0.2142857142857143
                    0 0
                    0.014285714285714287 0
                    0.014285714285714287 0.2142857142857143
                    0 0.2142857142857143
                    0 0
                    0.014285714285714287 0
                    0.014285714285714287 0.2142857142857143
                    0.014285714285714287 0
                    0.014285714285714287 1
                    0 1
                    0 0
                    0 1
                    0 0
                    0.014285714285714287 0
                    0.014285714285714287 1
                  ]
                }
                coordIndex [
                  0, 1, 2, 3, -1, 4, 5, 6, 7, -1, 8, 9, 10, 11, -1, 12, 13, 14, 15, -1, 16, 17, 18, 19, -1, 20, 21, 22, 23, -1
                ]
                creaseAngle 1.5
              }
            }
          ]
          name "right frame"
          model "box"
          boundingObject Box {
            size 0.3 0.02 1.4
          }
        }
        Solid {
          translation 0 -0.39 1.4
          children [
            Shape {
              appearance PBRAppearance {
                baseColor 0.8039 0.6745 0.5764
                baseColorMap ImageTexture {
                  url [
                    "https://raw.githubusercontent.com/cyberbotics/webots/R2022a/projects/appearances/protos/textures/varnished_pine/varnished_pine_base_color.jpg"
                  ]
                  filtering 5
                }
                roughnessMap ImageTexture {
                  url [
                    "https://raw.githubusercontent.com/cyberbotics/webots/R2022a/projects/appearances/protos/textures/varnished_pine/varnished_pine_roughness.jpg"
                  ]
                  filtering 5
                }
                metalness 0
                normalMap ImageTexture {
                  url [
                    "https://raw.githubusercontent.com/cyberbotics/webots/R2022a/projects/appearances/protos/textures/varnished_pine/varnished_pine_normal.jpg"
                  ]
                  filtering 5
                }
                normalMapFactor 0.5
                occlusionMap ImageTexture {
                  url [
                    "https://raw.githubusercontent.com/cyberbotics/webots/R2022a/projects/appearances/protos/textures/varnished_pine/varnished_pine_occlusion.jpg"
                  ]
                  filtering 5
                }
              }
              geometry IndexedFaceSet {
                coord Coordinate {
                  point [
                    -0.15 0.01 0.7
                    0.15 0.01 0.7
                    0.15 0.01 -0.7
                    -0.15 0.01 -0.7
                    -0.15 -0.01 -0.7
                    0.15 -0.01 -0.7
                    0.15 -0.01 0.7
                    -0.15 -0.01 0.7
                    -0.15 -0.01 0.7
                    0.15 -0.01 0.7
                    0.15 0.01 0.7
                    -0.15 0.01 0.7
                    0.15 -0.01 -0.7
                    -0.15 -0.01 -0.7
                    -0.15 0.01 -0.7
                    0.15 0.01 -0.7
                    -0.15 -0.01 -0.7
                    -0.15 -0.01 0.7
                    -0.15 0.01 0.7
                    -0.15 0.01 -0.7
                    0.15 -0.01 0.7
                    0.15 -0.01 -0.7
                    0.15 0.01 -0.7
                    0.15 0.01 0.7
                  ]
                }
                texCoord TextureCoordinate {
                  point [
                    0.2142857142857143 1
                    0 1
                    0 0
                    0.2142857142857143 0
                    0 0
                    0.2142857142857143 0
                    0.2142857142857143 1
                    0 1
                    0 0.2142857142857143
                    0 0
                    0.014285714285714287 0
                    0.014285714285714287 0.2142857142857143
                    0 0.2142857142857143
                    0 0
                    0.014285714285714287 0
                    0.014285714285714287 0.2142857142857143
                    0.014285714285714287 0
                    0.014285714285714287 1
                    0 1
                    0 0
                    0 1
                    0 0
                    0.014285714285714287 0
                    0.014285714285714287 1
                  ]
                }
                coordIndex [
                  0, 1, 2, 3, -1, 4, 5, 6, 7, -1, 8, 9, 10, 11, -1, 12, 13, 14, 15, -1, 16, 17, 18, 19, -1, 20, 21, 22, 23, -1
                ]
                creaseAngle 1.5
              }
            }
          ]
          name "left frame"
          model "box"
          boundingObject Box {
            size 0.3 0.02 1.4
          }
        }
      ]
      name "window"
      model "window"
    }
  ]
  controller "ShutterController"
  supervisor TRUE
  window "shutter_window"
  }
}